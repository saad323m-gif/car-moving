<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ูุธุงู ุชุณุฌูู ูุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช - AL MASAOOD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- Icon -->
  <link rel="icon" type="image/png" href="logo.png" />

  <!-- Apple PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="apple-touch-icon" href="logo.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <!-- ====================== ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู ====================== -->
  <main id="authView" class="auth-view">
    <div class="auth-card">

      <div class="auth-logo">
        <img src="logo.png" alt="AL MASAOOD" />
      </div>

      <h1 class="auth-title">ูุธุงู ุชุณุฌูู ูุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช</h1>
      <p class="auth-subtitle">ูุฌููุนุฉ ุงููุณุนูุฏ</p>

      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">ุฏุฎูู</button>
        <button class="auth-tab" data-tab="register">ุชุณุฌูู ุฌุฏูุฏ</button>
      </div>

      <!-- ูููุฐุฌ ุงูุฏุฎูู -->
      <form id="loginForm" class="auth-form" data-form="login">
        <label>ุงุณู ุงููุณุชุฎุฏู</label>
        <input type="text" id="loginUsername" required minlength="4" />

        <label>ูููุฉ ุงููุฑูุฑ</label>
        <input type="password" id="loginPassword" required minlength="6" />

        <button type="submit" class="btn-primary">ุฏุฎูู</button>
      </form>

      <!-- ูููุฐุฌ ุงูุชุณุฌูู -->
      <form id="registerForm" class="auth-form hidden" data-form="register">
        <label>ุงุณู ุงูุนุถู</label>
        <input type="text" id="registerFullName" required />

        <label>ุงุณู ุงููุณุชุฎุฏู (4 ุฃุญุฑู ุนูู ุงูุฃูู)</label>
        <input type="text" id="registerUsername" required minlength="4" />

        <label>ูููุฉ ุงููุฑูุฑ (6 ุฎุงูุงุช ุนูู ุงูุฃูู)</label>
        <input type="password" id="registerPassword" required minlength="6" />

        <label>ูุณููุฉ ุงูุงุชุตุงู (10 ุฃุฑูุงู)</label>
        <input type="tel" id="registerPhone" pattern="[0-9]{10}" required />

        <p class="note">
          ุฃูู ุนุถู ูุชู ุชุณุฌููู ุณูุตุจุญ <strong>ูุทูุฑ ุงููุธุงู</strong> ุชููุงุฆููุง.
        </p>

        <button type="submit" class="btn-primary">ุชุณุฌูู</button>
      </form>

      <p id="authMessage" class="auth-message"></p>
    </div>
  </main>

  <!-- ====================== ูุงุฌูุฉ ุงูุชุทุจูู ====================== -->
  <header id="appHeader" class="app-header hidden">
    <div class="header-left">
      <img src="logo.png" class="header-logo" />
      <div>
        <h2 class="header-title">ูุธุงู ุชุณุฌูู ูุฅุฏุงุฑุฉ ุงูุณูุงุฑุงุช</h2>
        <p class="header-subtitle">ูุฌููุนุฉ ุงููุณุนูุฏ</p>
      </div>
    </div>

    <div class="header-right">
      <button id="refreshAppBtn" class="btn-secondary">๐ ุชุญุฏูุซ</button>
      <button id="logoutBtn" class="btn-danger">ุฎุฑูุฌ</button>
    </div>
  </header>

  <main id="appView" class="app-view hidden">

    <!-- ุดุฑูุท ุงููุณุชุฎุฏู -->
    <section class="user-bar">
      <span id="currentUserName"></span>
      <span id="currentUserRole" class="role-badge"></span>
    </section>

    <!-- ุงูุจุญุซ -->
    <section class="search-bar">
      <input type="search" id="globalSearchInput" placeholder="ุงุจุญุซ ูู ุงูุญุฑูุงุชุ ุงูุนูุฏุ ุฃู ุงูุฃุณุทูู..." />
    </section>

    <!-- ุงูุชุจููุจุงุช -->
    <nav class="main-tabs">
      <button class="tab-btn active" data-tab="movements">ุงูุญุฑูุงุช</button>
      <button class="tab-btn" data-tab="custody">ุงูุนูุฏ</button>
      <button class="tab-btn" data-tab="fleet">ุงูุฃุณุทูู</button>
      <button class="tab-btn" data-tab="members">ุงูุฃุนุถุงุก</button>
      <button class="tab-btn" data-tab="stats">ุงูุฅุญุตุงุฆูุงุช</button>
    </nav>

    <!-- ูุญุชูู ุงูุชุจููุจุงุช -->
    <section id="movementsTab" class="tab-content"></section>
    <section id="custodyTab" class="tab-content hidden"></section>
    <section id="fleetTab" class="tab-content hidden"></section>
    <section id="membersTab" class="tab-content hidden"></section>
    <section id="statsTab" class="tab-content hidden"></section>

  </main>

  <!-- ููุชุฑ -->
  <footer class="footer">
    ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ <span id="currentYear"></span> - ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ MOHAMED SAAD
  </footer>

  <!-- Scripts -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="roles.js"></script>
  <script type="module" src="auth.js"></script>
  <script type="module" src="app.js"></script>
  <script type="module" src="movements.js"></script>
  <script type="module" src="custody.js"></script>
  <script type="module" src="fleet.js"></script>
  <script type="module" src="members.js"></script>
  <script type="module" src="stats.js"></script>
  <script type="module" src="search.js"></script>

</body>
</html>
